/*!
  * vue-global-events v2.1.0
  * (c) 2022 Damian Dulisz, Eduardo San Martin Morote
  * @license MIT
  */
var VueGlobalEvents=function(e,t){"use strict";let n;const r=/^on(\w+?)((?:Once|Capture|Passive)*)$/,o=/[OCP]/g;function a(e){if(!e)return;if(null==n?n=/msie|trident/.test(window.navigator.userAgent.toLowerCase()):n)return e.includes("Capture");return e.replace(o,",$&").toLowerCase().slice(1).split(",").reduce((e,t)=>(e[t]=!0,e),{})}const s=t.defineComponent({name:"GlobalEvents",props:{target:{type:String,default:"document"},filter:{type:Function,default:()=>()=>!0}},setup(e,{attrs:n}){let o=Object.create(null);const s=t.ref(!0);return t.onActivated(()=>{s.value=!0}),t.onDeactivated(()=>{s.value=!1}),t.onMounted(()=>{Object.keys(n).filter(e=>e.startsWith("on")).forEach(t=>{const i=n[t],u=Array.isArray(i)?i:[i],l=t.match(r);if(!l)return;let[,c,f]=l;c=c.toLowerCase();const d=u.map(t=>n=>{s.value&&e.filter(n,t,c)&&t(n)}),v=a(f);d.forEach(t=>{window[e.target].addEventListener(c,t,v)}),o[t]=[d,c,v]})}),t.onBeforeUnmount(()=>{for(const t in o){const[n,r,a]=o[t];n.forEach(t=>{window[e.target].removeEventListener(r,t,a)})}o={}}),()=>null}});return e.GlobalEvents=s,e}({},Vue);
