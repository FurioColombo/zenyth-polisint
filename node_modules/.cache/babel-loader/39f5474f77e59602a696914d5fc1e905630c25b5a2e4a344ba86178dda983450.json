{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-0ebe32a4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"scrollable\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"oscVoid\"\n}, \"+\", -1 /* HOISTED */));\nconst _hoisted_3 = [_hoisted_2];\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"oscVoid\"\n}, \"+\", -1 /* HOISTED */));\nconst _hoisted_5 = [_hoisted_4];\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"oscVoid\"\n}, \"+\", -1 /* HOISTED */));\nconst _hoisted_7 = [_hoisted_6];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Osc = _resolveComponent(\"Osc\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"oscHost\",\n    style: _normalizeStyle(this.oscHost)\n  }, [_createElementVNode(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.oscList, osc => {\n    return _openBlock(), _createBlock(_component_Osc, {\n      key: osc.id,\n      ref_for: true,\n      ref: osc.ref,\n      id: osc.id,\n      onDisposed: $options.removeOsc,\n      onNewOsc: $options.handleNewOsc\n    }, null, 8 /* PROPS */, [\"id\", \"onDisposed\", \"onNewOsc\"]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", {\n    class: \"voidContainer\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addOsc && $options.addOsc(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"voidBorder\",\n    style: _normalizeStyle($options.voidBorder)\n  }, _hoisted_3, 4 /* STYLE */)]), this.oscList.length <= 1 ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"voidContainer\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.addOsc && $options.addOsc(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"voidBorder\",\n    style: _normalizeStyle($options.voidBorder)\n  }, _hoisted_5, 4 /* STYLE */)])) : _createCommentVNode(\"v-if\", true), this.oscList.length <= 0 ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: \"voidContainer\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.addOsc && $options.addOsc(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"voidBorder\",\n    style: _normalizeStyle($options.voidBorder)\n  }, _hoisted_7, 4 /* STYLE */)])) : _createCommentVNode(\"v-if\", true)])], 4 /* STYLE */);\n}","map":{"version":3,"mappings":";;;EAESA,KAAK,EAAC;AAAY;gEAWjBC,oBAA4B;EAAvBD,KAAK,EAAC;AAAS,GAAC,GAAC;oBAAtBE,UAA4B;gEAK5BD,oBAA4B;EAAvBD,KAAK,EAAC;AAAS,GAAC,GAAC;oBAAtBG,UAA4B;gEAK5BF,oBAA6B;EAAxBD,KAAK,EAAC;AAAS,GAAE,GAAC;oBAAvBI,UAA6B;;;uBAtBrCC,oBA0BM;IA1BDL,KAAK,EAAC,SAAS;IAAEM,KAAK,uBAAOC,OAAO;MACvCN,oBAwBM,OAxBNO,UAwBM,sBAvBJH,oBAOWI,kCAPoBC,OAAO,EAApBC,GAAG;yBACnBC,aAKEC;WAN0CF,GAAG,CAACG,EAAE;;MAE7CC,GAAG,EAAEJ,GAAG,CAACI,GAAG;MACZD,EAAE,EAAEH,GAAG,CAACG,EAAE;MACVE,UAAQ,EAAEC,kBAAS;MACnBC,QAAM,EAAED;;kCAGfhB,oBAIM;IAJDD,KAAK,EAAC,eAAe;IAAEmB,OAAK,yCAAEF,2CAAM;MACvChB,oBAEM;IAFDD,KAAK,EAAC,YAAY;IAAEM,KAAK,kBAAEW,mBAAU;wCAI3BP,OAAO,CAACU,MAAM,uBAA/Bf,oBAIM;;IAJgCL,KAAK,EAAC,eAAe;IAAEmB,OAAK,yCAAEF,2CAAM;MACxEhB,oBAEM;IAFDD,KAAK,EAAC,YAAY;IAAEM,KAAK,kBAAEW,mBAAU;6EAI3BP,OAAO,CAACU,MAAM,uBAA/Bf,oBAIM;;IAJgCL,KAAK,EAAC,eAAe;IAAEmB,OAAK,yCAAEF,2CAAM;MACxEhB,oBAEM;IAFDD,KAAK,EAAC,YAAY;IAAEM,KAAK,kBAAEW,mBAAU","names":["class","_createElementVNode","_hoisted_2","_hoisted_4","_hoisted_6","_createElementBlock","style","oscHost","_hoisted_1","_Fragment","oscList","osc","_createBlock","_component_Osc","id","ref","onDisposed","$options","onNewOsc","onClick","length"],"sourceRoot":"","sources":["/Users/guglielmofratticioli/Documents/POLIMI/FurioColombo.github.io/src/views/Synth/Oscillators/OscHost.vue"],"sourcesContent":["<template>\n  <div class=\"oscHost\" :style=\"this.oscHost\">\n    <div class=\"scrollable\">\n      <template v-for=\"(osc) in this.oscList\" :key=\"osc.id\" :item=\"osc\">\n        <Osc\n            :ref=\"osc.ref\"\n            :id=\"osc.id\"\n            @disposed=\"removeOsc\"\n            @newOsc=\"handleNewOsc\"\n        />\n      </template>\n      <div class=\"voidContainer\" @click=\"addOsc\">\n        <div class=\"voidBorder\" :style=\"voidBorder\">\n          <div class=\"oscVoid\">+</div>\n        </div>\n      </div>\n      <div  v-if=\"this.oscList.length <= 1\" class=\"voidContainer\" @click=\"addOsc\">\n        <div class=\"voidBorder\" :style=\"voidBorder\">\n          <div class=\"oscVoid\">+</div>\n        </div>\n      </div>\n      <div  v-if=\"this.oscList.length <= 0\" class=\"voidContainer\" @click=\"addOsc\">\n        <div class=\"voidBorder\" :style=\"voidBorder\">\n          <div class=\"oscVoid\" >+</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Osc from \"./Osc.vue\";\nimport Vue from \"vue\";\nimport {isProxy, toRaw} from \"vue\";\n\nexport default {\n  components: {\n    Osc,\n  },\n\n  data() {\n    // data structure oscillators list\n    return {\n      oscList: [],\n      name: \"oscHost\",\n      i: 0,\n    };\n  },\n\n  mounted() {\n    this.addOsc();\n    this.addOsc();\n  },\n\n  methods: {\n    handleNewOsc(){\n      this.$emit(\"newOsc\")\n    },\n    initConnections() {\n      for (let key in this.$refs) {\n        //console.log(toRaw(this.$refs[key][0]))\n        toRaw(this.$refs[key][0]).initConnections()\n\n      }\n    },\n    addOsc() {\n      //TO-DO REWRITE\n      let ref = \"osc\" + this.i;\n      this.oscList.push({id: this.i, ref: ref});\n      //console.log(\"adding osc\" + this.i)\n      //console.log(this.oscList);\n      this.i += 1;\n    },\n\n    removeOsc(id) {\n      //console.log(\"removing oscillator\" + id);\n      // Remove the oscillator from the list\n      let index = 0\n      this.oscList.forEach(osc => {\n        if (osc.id === id) index = this.oscList.indexOf(osc)\n      });\n      this.oscList.splice(index, 1);\n    },\n  },\n  unmounted() {\n  },\n  computed: {\n    oscHost(){\n      return{\n        background: '#f8e7e6',\n      }\n    },\n    voidBorder(){\n      return{\n        background: this.colors.pink.glow,\n        border: '.1vw solid' + this.colors.pink.dark\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n.scrollable {\n  font-size: 2vw;\n  justify-content: center;\n  overflow-y: scroll;\n  /* Add a vertical scrollbar */\n  overflow-x: hidden;\n  width: 100%;\n  height: 100%;\n}\n\n.voidContainer {\n  width: 100%;\n  height: calc(100% / 3);\n  position: relative\n}\n\n.voidBorder {\n  height: 100%;\n  padding: 0.3vw;\n}\n\n.oscVoid {\n  border: 0.1vw solid #c2847b;\n  color: #c2847b;\n  background: #f8e7e6;\n  border-radius: 0.3vw;\n  box-sizing: border-box;\n  height: 100%;\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  font-size: 2vw;\n}\n.oscVoid:hover {\n  border: 0.1vw solid #63443e;\n  color: #63443e;\n  border-radius: 0.3vw;\n  box-sizing: border-box;\n  height: 100%;\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  font-size: 2vw;\n}\n\n/*  hide the scrollbar because cannot be resized in Chrome, Safari (breaks % layout)*/\n.scrollable::-webkit-scrollbar {\n  display: none;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}