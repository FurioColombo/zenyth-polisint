{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { transcode } from \"buffer\";\nimport * as Tone from \"tone\";\nimport ToolsHost from \"../Tools/ToolsHost.vue\";\nimport EnvelopeVisualizer from \"./EnvelopeVisualizer.vue\";\nexport default {\n  props: [\"id\"],\n  components: {\n    EnvelopeVisualizer: EnvelopeVisualizer\n  },\n  data: function data() {\n    return {\n      tempEvent: null,\n      type: \"envelope\",\n      parameters: {},\n      knobList: [],\n      is_attack_down: false,\n      is_decay_down: false,\n      is_sustain_down: false,\n      is_release_down: false\n    };\n  },\n  mounted: function mounted() {\n    this.parameters = {\n      attack: 0.1,\n      attackCurve: \"linear\",\n      decay: 0.5,\n      decayCurve: \"linear\",\n      sustain: 0.5,\n      releaseCurve: \"linear\",\n      release: 1,\n      scale: 1\n    };\n    for (var i = 0; i < 9; i++) {\n      this.knobList.push({\n        id: i,\n        ref: \"knob\" + i\n      });\n    }\n  },\n  methods: {\n    handleRefresh: function handleRefresh(parameters) {\n      var _this = this;\n      this.parameters = parameters;\n      this.synths.list.forEach(function (synth) {\n        synth.setModulatorParameters(\"envelope\", \"vol\", _this.parameters);\n      });\n    },\n    handleNewOsc: function handleNewOsc() {\n      var _this2 = this;\n      //called when a new osc is created to set default values\n      this.synths.list.forEach(function (synth) {\n        synth.setModulatorParameters(\"envelope\", \"vol\", _this2.parameters);\n      });\n    },\n    unHide: function unHide() {\n      this.$refs.container.classList.remove(\"hidden\");\n    },\n    hide: function hide() {\n      this.$refs.container.classList.add(\"hidden\");\n    },\n    handleMouseMove: function handleMouseMove(e) {\n      this.$refs.visualizer.handleMouseMove(e);\n    },\n    handleMouseUp: function handleMouseUp(e) {\n      this.$refs.visualizer.handleMouseUp(e);\n    }\n  },\n  computed: {\n    border: function border() {\n      return {\n        background: '#f8e7e6',\n        opacity: '100%'\n      };\n    },\n    container: function container() {\n      return {\n        background: this.colors.pink.medium\n      };\n    }\n  }\n};","map":{"version":3,"mappings":";;;;AASA,SAASA,SAAQ,QAAS,QAAQ;AAClC,OAAO,KAAKC,IAAG,MAAO,MAAM;AAC5B,OAAOC,SAAQ,MAAO,wBAAwB;AAC9C,OAAOC,kBAAiB,MAAO,0BAA0B;AACzD,eAAe;EACbC,KAAK,EAAE,CAAC,IAAI,CAAC;EACbC,UAAU,EAAE;IACVF,kBAAiB,EAAjBA;EACF,CAAC;EACDG,IAAI,kBAAG;IACL,OAAO;MACLC,SAAS,EAAE,IAAI;MACfC,IAAI,EAAE,UAAU;MAChBC,UAAU,EAAE,CACZ,CAAC;MACDC,QAAQ,EAAE,EAAE;MACZC,cAAc,EAAE,KAAK;MACrBC,aAAa,EAAE,KAAK;MACpBC,eAAe,EAAE,KAAK;MACtBC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EACDC,OAAO,qBAAG;IACP,IAAI,CAACN,UAAS,GAAI;MACjBO,MAAM,EAAE,GAAG;MACXC,WAAW,EAAE,QAAQ;MACrBC,KAAK,EAAE,GAAG;MACVC,UAAU,EAAE,QAAQ;MACpBC,OAAO,EAAE,GAAG;MACZC,YAAY,EAAE,QAAQ;MACtBC,OAAO,EAAE,CAAC;MACVC,KAAK,EAAE;IACT,CAAC;IACD,KAAK,IAAIC,IAAI,CAAC,EAAEA,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MAC1B,IAAI,CAACd,QAAQ,CAACe,IAAI,CAAC;QAAEC,EAAE,EAAEF,CAAC;QAAEG,GAAG,EAAE,MAAK,GAAIH;MAAE,CAAC,CAAC;IAChD;EACF,CAAC;EACDI,OAAO,EAAE;IACPC,aAAa,yBAACpB,UAAU,EAAE;MAAA;MACxB,IAAI,CAACA,UAAS,GAAIA,UAAS;MAC3B,IAAI,CAACqB,MAAM,CAACC,IAAI,CAACC,OAAO,CAAC,UAACC,KAAK,EAAK;QAClCA,KAAK,CAACC,sBAAsB,CAAC,UAAU,EAAE,KAAK,EAAE,KAAI,CAACzB,UAAU,CAAC;MAClE,CAAC,CAAC;IACJ,CAAC;IACD0B,YAAY,0BAAG;MAAA;MACb;MACA,IAAI,CAACL,MAAM,CAACC,IAAI,CAACC,OAAO,CAAC,UAACC,KAAK,EAAK;QAClCA,KAAK,CAACC,sBAAsB,CAAC,UAAU,EAAE,KAAK,EAAE,MAAI,CAACzB,UAAU,CAAC;MAClE,CAAC;IACH,CAAC;IACD2B,MAAM,oBAAG;MACP,IAAI,CAACC,KAAK,CAACC,SAAS,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;IACjD,CAAC;IACDC,IAAI,kBAAG;MACL,IAAI,CAACJ,KAAK,CAACC,SAAS,CAACC,SAAS,CAACG,GAAG,CAAC,QAAQ,CAAC;IAC9C,CAAC;IACDC,eAAe,2BAACC,CAAC,EAAE;MACjB,IAAI,CAACP,KAAK,CAACQ,UAAU,CAACF,eAAe,CAACC,CAAC,CAAC;IAC1C,CAAC;IACDE,aAAa,yBAACF,CAAC,EAAE;MACf,IAAI,CAACP,KAAK,CAACQ,UAAU,CAACC,aAAa,CAACF,CAAC,CAAC;IACxC;EACF,CAAC;EACDG,QAAQ,EAAE;IACRC,MAAM,oBAAG;MACP,OAAO;QACLC,UAAU,EAAE,SAAS;QACrBC,OAAO,EAAE;MACX;IACF,CAAC;IACDZ,SAAS,uBAAG;MACV,OAAO;QACLW,UAAU,EAAE,IAAI,CAACE,MAAM,CAACC,IAAI,CAACC;MAC/B;IACF;EACF;AACF,CAAC","names":["transcode","Tone","ToolsHost","EnvelopeVisualizer","props","components","data","tempEvent","type","parameters","knobList","is_attack_down","is_decay_down","is_sustain_down","is_release_down","mounted","attack","attackCurve","decay","decayCurve","sustain","releaseCurve","release","scale","i","push","id","ref","methods","handleRefresh","synths","list","forEach","synth","setModulatorParameters","handleNewOsc","unHide","$refs","container","classList","remove","hide","add","handleMouseMove","e","visualizer","handleMouseUp","computed","border","background","opacity","colors","pink","medium"],"sourceRoot":"","sources":["C:\\Home\\Projects\\Programmazione\\WebStorm\\myZenythPolisinT\\zenyth_polisint\\src\\views\\Synth\\Modulators\\VolEnvelope.vue"],"sourcesContent":["<template>\r\n  <div ref=\"container\" class=\"container hidden\" :style=\"this.container\">\r\n    <div class=\"border\" :style=\"this.border\">\r\n      <EnvelopeVisualizer ref=\"visualizer\" :is_volume=\"true\" @paramRefresh=\"handleRefresh\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { transcode } from \"buffer\";\r\nimport * as Tone from \"tone\";\r\nimport ToolsHost from \"../Tools/ToolsHost.vue\";\r\nimport EnvelopeVisualizer from \"./EnvelopeVisualizer.vue\";\r\nexport default {\r\n  props: [\"id\"],\r\n  components: {\r\n    EnvelopeVisualizer\r\n  },\r\n  data() {\r\n    return {\r\n      tempEvent: null,\r\n      type: \"envelope\",\r\n      parameters: {\r\n      },\r\n      knobList: [],\r\n      is_attack_down: false,\r\n      is_decay_down: false,\r\n      is_sustain_down: false,\r\n      is_release_down: false,\r\n    };\r\n  },\r\n  mounted() {\r\n     this.parameters = {\r\n      attack: 0.1,\r\n      attackCurve: \"linear\",\r\n      decay: 0.5,\r\n      decayCurve: \"linear\",\r\n      sustain: 0.5,\r\n      releaseCurve: \"linear\",\r\n      release: 1,\r\n      scale: 1,\r\n    }; \r\n    for (let i = 0; i < 9; i++) {\r\n      this.knobList.push({ id: i, ref: \"knob\" + i });\r\n    }\r\n  },\r\n  methods: {\r\n    handleRefresh(parameters) {\r\n      this.parameters = parameters\r\n      this.synths.list.forEach((synth) => {\r\n        synth.setModulatorParameters(\"envelope\", \"vol\", this.parameters);\r\n      });\r\n    },\r\n    handleNewOsc() {\r\n      //called when a new osc is created to set default values\r\n      this.synths.list.forEach((synth) => {\r\n        synth.setModulatorParameters(\"envelope\", \"vol\", this.parameters);\r\n      })\r\n    },\r\n    unHide() {\r\n      this.$refs.container.classList.remove(\"hidden\");\r\n    },\r\n    hide() {\r\n      this.$refs.container.classList.add(\"hidden\");\r\n    },\r\n    handleMouseMove(e) {\r\n      this.$refs.visualizer.handleMouseMove(e);\r\n    },\r\n    handleMouseUp(e) {\r\n      this.$refs.visualizer.handleMouseUp(e);\r\n    }\r\n  },\r\n  computed: {\r\n    border() {\r\n      return {\r\n        background: '#f8e7e6',\r\n        opacity: '100%'\r\n      }\r\n    },\r\n    container() {\r\n      return {\r\n        background: this.colors.pink.medium\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.border {\r\n  grid-template-columns: 1fr;\r\n  grid-template-rows: 1fr;\r\n\r\n  position: relative;\r\n  display: grid;\r\n  width: calc(100% - 0.6vw);\r\n  height: calc(100% - 0.6vw);\r\n  box-sizing: border-box;\r\n  margin: 0.3vw;\r\n  border-radius: 0.2vw;\r\n  border: 0.1vw solid #334030;\r\n}\r\n\r\n.container {\r\n  position: relative;\r\n  display: grid;\r\n  width: 100%;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}