{"ast":null,"code":"import { transcode } from \"buffer\";\nimport * as Tone from \"tone\";\nimport ToolsHost from \"../Tools/ToolsHost.vue\";\nimport Knobs from \"./Knobs.vue\";\nimport VolEnvelope from \"@/views/Synth/Modulators/VolEnvelope.vue\";\nimport Lfo from \"@/views/Synth/Modulators/Lfo.vue\";\nimport ModSelector from \"@/views/Synth/Modulators/ModSelector.vue\";\nimport EnvelopeVisualizer from \"./EnvelopeVisualizer.vue\";\nexport default {\n  components: {\n    EnvelopeVisualizer,\n    Knobs\n  },\n  props: [\"id\"],\n  data() {\n    return {\n      parameters: {\n        attack: 0.01 * 2.5,\n        attackCurve: \"linear\",\n        decay: 0.1 * 2.5,\n        decayCurve: \"linear\",\n        releaseCurve: \"linear\",\n        release: 0.1 * 2.5,\n        sustain: 0.5\n      }\n    };\n  },\n  methods: {\n    //UPDATE PARAMS CHANGED IN ENVELOPE VISUALIZER\n    handleRefresh(parameters) {\n      this.parameters = parameters;\n      this.$refs.knobs.updateParameters(this.parameters);\n    },\n    //-------------METHODS TO LINK WHEN DROPPING\n    link(object, target, color) {\n      //console.log(\"THINGS HAPPENING \"+section+\" \"+target)\n      this.$refs.knobs.addLink(object, target, color);\n    },\n    unLink(object, target) {\n      //console.log(\"THINGS HAPPENING \")\n      //console.log(object)\n      //console.log(target)\n      this.$refs.knobs.removeLink(object, target);\n    },\n    handleDraggableUpdate(isDraggable) {\n      this.$emit(\"isDraggableUpdate\", isDraggable);\n    },\n    //--------------METHODS TO SHOW/HIDE------------\n    unHide() {\n      this.$refs.container.classList.remove(\"hidden\");\n    },\n    hide() {\n      this.$refs.container.classList.add(\"hidden\");\n    },\n    //----------------------------------------------\n    handleMouseMove(e) {\n      this.$refs.visualizer.handleMouseMove(e);\n      this.$refs.knobs.handleMouseMove(e);\n    },\n    handleMouseUp(e) {\n      this.$refs.visualizer.handleMouseUp(e);\n      this.$refs.knobs.handleMouseUp(e);\n    }\n  },\n  computed: {\n    border() {\n      return {\n        background: '#ceeae7'\n      };\n    },\n    container() {\n      return {\n        background: this.colors.azure.medium\n      };\n    }\n  }\n};","map":{"version":3,"mappings":"AAYA,SAAQA,SAAS,QAAO,QAAQ;AAChC,OAAO,KAAKC,IAAG,MAAO,MAAM;AAC5B,OAAOC,SAAQ,MAAO,wBAAwB;AAC9C,OAAOC,KAAI,MAAO,aAAa;AAC/B,OAAOC,WAAU,MAAO,0CAA0C;AAClE,OAAOC,GAAE,MAAO,kCAAkC;AAClD,OAAOC,WAAU,MAAO,0CAA0C;AAClE,OAAOC,kBAAiB,MAAO,0BAA0B;AAEzD,eAAe;EACbC,UAAU,EAAE;IACVD,kBAAkB;IAAEJ;EACtB,CAAC;EACDM,KAAK,EAAE,CAAC,IAAI,CAAC;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,UAAU,EAAE;QACVC,MAAM,EAAE,IAAG,GAAI,GAAG;QAClBC,WAAW,EAAE,QAAQ;QACrBC,KAAK,EAAE,GAAE,GAAI,GAAG;QAChBC,UAAU,EAAE,QAAQ;QACpBC,YAAY,EAAE,QAAQ;QACtBC,OAAO,EAAE,GAAE,GAAI,GAAG;QAClBC,OAAO,EAAE;MACX;IAEF;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,aAAa,CAACT,UAAU,EAAE;MACxB,IAAI,CAACA,UAAS,GAAIA,UAAS;MAC3B,IAAI,CAACU,KAAK,CAACC,KAAK,CAACC,gBAAgB,CAAC,IAAI,CAACZ,UAAU;IACnD,CAAC;IACD;IACAa,IAAI,CAACC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAE;MAC1B;MACA,IAAI,CAACN,KAAK,CAACC,KAAK,CAACM,OAAO,CAACH,MAAM,EAAEC,MAAM,EAAEC,KAAK;IAEhD,CAAC;IACDE,MAAM,CAACJ,MAAM,EAAEC,MAAM,EAAE;MACrB;MACA;MACA;MACA,IAAI,CAACL,KAAK,CAACC,KAAK,CAACQ,UAAU,CAACL,MAAM,EAAEC,MAAM;IAC5C,CAAC;IACDK,qBAAqB,CAACC,WAAW,EAAE;MACjC,IAAI,CAACC,KAAK,CAAC,mBAAmB,EAAED,WAAW;IAC7C,CAAC;IACD;IACAE,MAAM,GAAG;MACP,IAAI,CAACb,KAAK,CAACc,SAAS,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;IACjD,CAAC;IACDC,IAAI,GAAG;MACL,IAAI,CAACjB,KAAK,CAACc,SAAS,CAACC,SAAS,CAACG,GAAG,CAAC,QAAQ,CAAC;IAC9C,CAAC;IACD;IACAC,eAAe,CAACC,CAAC,EAAE;MACjB,IAAI,CAACpB,KAAK,CAACqB,UAAU,CAACF,eAAe,CAACC,CAAC,CAAC;MACxC,IAAI,CAACpB,KAAK,CAACC,KAAK,CAACkB,eAAe,CAACC,CAAC,CAAC;IACrC,CAAC;IACDE,aAAa,CAACF,CAAC,EAAE;MACf,IAAI,CAACpB,KAAK,CAACqB,UAAU,CAACC,aAAa,CAACF,CAAC,CAAC;MACtC,IAAI,CAACpB,KAAK,CAACC,KAAK,CAACqB,aAAa,CAACF,CAAC,CAAC;IACnC;EACF,CAAC;EACDG,QAAQ,EAAE;IACRC,MAAM,GAAE;MACN,OAAM;QACJC,UAAU,EAAE;MACd;IACF,CAAC;IACDX,SAAS,GAAE;MACT,OAAM;QACJW,UAAU,EAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC;MAChC;IACF;EACF;AACF,CAAC","names":["transcode","Tone","ToolsHost","Knobs","VolEnvelope","Lfo","ModSelector","EnvelopeVisualizer","components","props","data","parameters","attack","attackCurve","decay","decayCurve","releaseCurve","release","sustain","methods","handleRefresh","$refs","knobs","updateParameters","link","object","target","color","addLink","unLink","removeLink","handleDraggableUpdate","isDraggable","$emit","unHide","container","classList","remove","hide","add","handleMouseMove","e","visualizer","handleMouseUp","computed","border","background","colors","azure","medium"],"sourceRoot":"","sources":["/Users/guglielmofratticioli/Documents/POLIMI/FurioColombo.github.io/src/views/Synth/Modulators/Envelope.vue"],"sourcesContent":["<template>\n  <div ref=\"container\" class=\"container hidden\" :style=\"this.container\">\n    <div class=\"border\" :style=\"this.border\">\n      <EnvelopeVisualizer ref=\"visualizer\" :is_volume=\"false\" @paramRefresh=\"handleRefresh\"/>\n      <Knobs ref=\"knobs\" type=\"envelope\" :id=\"this.id\" :parameters=\"this.parameters\"\n             @isDraggableUpdate=\"handleDraggableUpdate\"/>\n      <div> </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {transcode} from \"buffer\";\nimport * as Tone from \"tone\";\nimport ToolsHost from \"../Tools/ToolsHost.vue\";\nimport Knobs from \"./Knobs.vue\";\nimport VolEnvelope from \"@/views/Synth/Modulators/VolEnvelope.vue\";\nimport Lfo from \"@/views/Synth/Modulators/Lfo.vue\";\nimport ModSelector from \"@/views/Synth/Modulators/ModSelector.vue\";\nimport EnvelopeVisualizer from \"./EnvelopeVisualizer.vue\";\n\nexport default {\n  components: {\n    EnvelopeVisualizer, Knobs,\n  },\n  props: [\"id\"],\n  data() {\n    return {\n      parameters: {\n        attack: 0.01 * 2.5,\n        attackCurve: \"linear\",\n        decay: 0.1 * 2.5,\n        decayCurve: \"linear\",\n        releaseCurve: \"linear\",\n        release: 0.1 * 2.5,\n        sustain: 0.5,\n      },\n\n    }\n  },\n  methods: {\n    //UPDATE PARAMS CHANGED IN ENVELOPE VISUALIZER\n    handleRefresh(parameters) {\n      this.parameters = parameters\n      this.$refs.knobs.updateParameters(this.parameters)\n    },\n    //-------------METHODS TO LINK WHEN DROPPING\n    link(object, target, color) {\n      //console.log(\"THINGS HAPPENING \"+section+\" \"+target)\n      this.$refs.knobs.addLink(object, target, color)\n\n    },\n    unLink(object, target) {\n      //console.log(\"THINGS HAPPENING \")\n      //console.log(object)\n      //console.log(target)\n      this.$refs.knobs.removeLink(object, target)\n    },\n    handleDraggableUpdate(isDraggable) {\n      this.$emit(\"isDraggableUpdate\", isDraggable)\n    },\n    //--------------METHODS TO SHOW/HIDE------------\n    unHide() {\n      this.$refs.container.classList.remove(\"hidden\");\n    },\n    hide() {\n      this.$refs.container.classList.add(\"hidden\");\n    },\n    //----------------------------------------------\n    handleMouseMove(e) {\n      this.$refs.visualizer.handleMouseMove(e);\n      this.$refs.knobs.handleMouseMove(e);\n    },\n    handleMouseUp(e) {\n      this.$refs.visualizer.handleMouseUp(e);\n      this.$refs.knobs.handleMouseUp(e);\n    }\n  },\n  computed: {\n    border(){\n      return{\n        background: '#ceeae7'\n      }\n    },\n    container(){\n      return{\n        background: this.colors.azure.medium\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.border {\n  grid-template-columns: calc(6 / 8 * 100%) calc(2 / 8 * 100%);\n  grid-template-rows: 100% ;\n\n  position: relative;\n  display: grid;\n  width: calc(100% - 0.6vw);\n  height: calc(100% - 0.6vw);\n  box-sizing: border-box;\n  margin: 0.3vw;\n  border-radius: 0.2vw;\n  border: 0.1vw solid #334030;\n}\n\n.container {\n  grid-column: span 2;\n  width: 100%;\n  height: 100%;\n}\n\n.hidden {\n  display: none;\n}\n\n.envelope {\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  box-sizing: border-box;\n}\n\n.centering {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}