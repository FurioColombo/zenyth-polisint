{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nexport var detachArrayBuffer = function detachArrayBuffer(arrayBuffer) {\n  var _MessageChannel = new MessageChannel(),\n    port1 = _MessageChannel.port1,\n    port2 = _MessageChannel.port2;\n  return new Promise(function (resolve) {\n    var closeAndResolve = function closeAndResolve() {\n      port2.onmessage = null;\n      port1.close();\n      port2.close();\n      resolve();\n    };\n    port2.onmessage = function () {\n      return closeAndResolve();\n    };\n    try {\n      port1.postMessage(arrayBuffer, [arrayBuffer]);\n    } catch (_unused) {\n      // Ignore errors.\n    } finally {\n      closeAndResolve();\n    }\n  });\n};","map":{"version":3,"mappings":";AAAA,OAAO,IAAMA,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIC,WAAwB,EAAmB;EACzE,sBAAyB,IAAIC,cAAc,EAAE;IAArCC,KAAK,mBAALA,KAAK;IAAEC,KAAK,mBAALA,KAAK;EAEpB,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAI;IAC3B,IAAMC,eAAe,GAAG,SAAlBA,eAAe,GAAQ;MACzBH,KAAK,CAACI,SAAS,GAAG,IAAI;MAEtBL,KAAK,CAACM,KAAK,EAAE;MACbL,KAAK,CAACK,KAAK,EAAE;MAEbH,OAAO,EAAE;IACb,CAAC;IAEDF,KAAK,CAACI,SAAS,GAAG;MAAA,OAAMD,eAAe,EAAE;IAAA;IAEzC,IAAI;MACAJ,KAAK,CAACO,WAAW,CAACT,WAAW,EAAE,CAACA,WAAW,CAAC,CAAC;KAChD,CAAC,gBAAM;MACJ;IAAA,CACH,SAAS;MACNM,eAAe,EAAE;;EAEzB,CAAC,CAAC;AACN,CAAC","names":["detachArrayBuffer","arrayBuffer","MessageChannel","port1","port2","Promise","resolve","closeAndResolve","onmessage","close","postMessage"],"sourceRoot":"","sources":["../../../src/helpers/detach-array-buffer.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}