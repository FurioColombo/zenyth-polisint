{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/img/zenyth_logo.png';\nconst _hoisted_1 = {\n  class: \"grid\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"img\", {\n  className: \"app_logo\",\n  src: _imports_0,\n  draggable: \"false\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"mainHost\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_OscHost = _resolveComponent(\"OscHost\");\n  const _component_FilterHost = _resolveComponent(\"FilterHost\");\n  const _component_FxHost = _resolveComponent(\"FxHost\");\n  const _component_ToolHost = _resolveComponent(\"ToolHost\");\n  const _component_ModHost = _resolveComponent(\"ModHost\");\n  const _component_PianoKeyboard = _resolveComponent(\"PianoKeyboard\");\n  const _component_LFO = _resolveComponent(\"LFO\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: \"appContainer\",\n    onMouseup: _cache[0] || (_cache[0] = (...args) => $options.handleMouseUp && $options.handleMouseUp(...args)),\n    onMousemove: _cache[1] || (_cache[1] = (...args) => $options.handleMouseMove && $options.handleMouseMove(...args))\n  }, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_OscHost, {\n    ref: \"oscHost\",\n    onNewOsc: $options.handleNewOsc\n  }, null, 8 /* PROPS */, [\"onNewOsc\"]), _createVNode(_component_FilterHost, {\n    ref: \"filterHost\",\n    onFilterInitialized: $options.initOscConnections\n  }, null, 8 /* PROPS */, [\"onFilterInitialized\"]), _createVNode(_component_FxHost, {\n    ref: \"fxHost\"\n  }, null, 512 /* NEED_PATCH */), _createVNode(_component_ToolHost, {\n    ref: \"toolsHost\"\n  }, null, 512 /* NEED_PATCH */), _createVNode(_component_ModHost, {\n    ref: \"modHost\"\n  }, null, 512 /* NEED_PATCH */), _createVNode(_component_PianoKeyboard, {\n    ref: \"pianoKeyboard\",\n    onNoteDown: $options.noteDownHandle,\n    onNoteUp: $options.noteUpHandle\n  }, null, 8 /* PROPS */, [\"onNoteDown\", \"onNoteUp\"])]), (_openBlock(), _createBlock(_component_LFO, {\n    key: 1\n  }))], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"mappings":";OAG8BA,UAA2B;;EAFlDC,KAAK,EAAC;AAAM;gCAEfC,oBAAwE;EAAnEC,SAAS,EAAC,UAAU;EAACC,GAA2B,EAA3BJ,UAA2B;EAACK,SAAS,EAAC;;;EAC3DJ,KAAK,EAAC;AAAU;;;;;;;;;uBAHvBK,oBAiBI,OAjBJC,UAiBI,GAhBJL,oBAeM;IAfDD,KAAK,EAAC,cAAc;IAAEO,SAAO,yCAAEC,yDAAa;IAAGC,WAAS,yCAAED,6DAAe;MAC5EE,UAAwE,EACxET,oBAWM,OAXNU,UAWM,GAVJC,aAAgDC;IAAvCC,GAAG,EAAC,SAAS;IAAEC,QAAM,EAAEP;yCAChCI,aAAsEI;IAA1DF,GAAG,EAAC,YAAY;IAAEG,mBAAiB,EAAET;oDACjDI,aAAsBM;IAAdJ,GAAG,EAAC;EAAQ,gCACpBF,aAA4BO;IAAlBL,GAAG,EAAC;EAAW,gCACzBF,aAAwBQ;IAAfN,GAAG,EAAC;EAAS,gCACtBF,aAIES;IAHAP,GAAG,EAAC,eAAe;IAClBQ,UAAQ,EAAEd,uBAAc;IACxBe,QAAM,EAAEf;wEAGbgB,aAAsBC;IAAhBC,GAAG,EAAE;EAAC","names":["_imports_0","class","_createElementVNode","className","src","draggable","_createElementBlock","_hoisted_1","onMouseup","$options","onMousemove","_hoisted_2","_hoisted_3","_createVNode","_component_OscHost","ref","onNewOsc","_component_FilterHost","onFilterInitialized","_component_FxHost","_component_ToolHost","_component_ModHost","_component_PianoKeyboard","onNoteDown","onNoteUp","_createBlock","_component_LFO","key"],"sourceRoot":"","sources":["/Users/guglielmofratticioli/Documents/POLIMI/FurioColombo.github.io/src/views/MainHost.vue"],"sourcesContent":["<template>\n  <div class=\"grid\">\n  <div class=\"appContainer\" @mouseup=\"handleMouseUp\" @mousemove=\"handleMouseMove\">\n    <img className=\"app_logo\" src=\"@/img/zenyth_logo.png\" draggable=\"false\">\n    <div class=\"mainHost\">\n      <OscHost ref=\"oscHost\" @newOsc=\"handleNewOsc\" />\n      <FilterHost ref=\"filterHost\" @filterInitialized=\"initOscConnections\"/>\n      <FxHost ref=\"fxHost\"/>\n      <ToolHost ref=\"toolsHost\" />\n      <ModHost ref=\"modHost\"/>\n      <PianoKeyboard\n        ref=\"pianoKeyboard\"\n        @noteDown=\"noteDownHandle\"\n        @noteUp=\"noteUpHandle\"\n      />\n    </div>\n    <LFO :key=\"1\"  ></LFO>\n  </div>\n</div>\n</template>\n\n<script>\nimport * as Tone from \"tone\";\nimport OscHost from \"./Synth/Oscillators/OscHost.vue\";\nimport FilterHost from \"./Synth/Filters/FilterHost.vue\";\nimport FxHost from \"./Synth/Effects/FxHost.vue\";\nimport ToolHost from \"./Synth/Tools/ToolsHost.vue\";\nimport ModHost from \"./Synth/Modulators/ModHost.vue\"; // Envelope Strip\nimport LFO from \"@/views/Synth/Modulators/Lfo.vue\"; // todo: remove\nimport PianoKeyboard from \"./Synth/Keyboard/PianoKeyboard.vue\";\n\nexport default {\n  name: \"mainHost\",\n  components: {\n    LFO, // todo : delete from here\n    OscHost,\n    FilterHost,\n    FxHost,\n    ToolHost,\n    ModHost,\n    PianoKeyboard,\n\n  },\n  data() {\n    return {\n      draggedInfo: null,\n    };\n  },\n  mounted() {\n    Tone.Transport.start(\"+0.1\")\n  },\n\n  methods: {\n    // -------------- INIT ROUTING (connections) ------------\n    initOscConnections(){\n      this.$refs.oscHost.initConnections()\n    },\n    initFilterConnections(){\n      //console.log(\"main host init filter-fx connections\")\n      // todo: delete this.$refs.filterHost.initConnections()\n    },\n    handleNewOsc(){\n      //initialize volEnvelope on all synth when a new oscillator is added\n      this.$refs.modHost.handleNewOsc();\n    },\n    handleMouseUp(e) {\n      //Actions to execute when mouseup happens on any part of the screen\n      this.$refs.pianoKeyboard.handleMouseUp();\n      this.$refs.modHost.handleMouseUp(e);\n      this.$refs.fxHost.handleMouseUp(e);\n\n      //If something has been dragged and not claimed after 100ms infos are deleted\n      if (this.draggedInfo) {\n        setTimeout(() => this.deleteDraggedInfo(\"MainHost\"), 100);\n      }\n    },\n    handleMouseMove(e){\n      //console.log(this.$refs.modHost)\n      this.$refs.modHost.handleMouseMove(e);\n      this.$refs.fxHost.handleMouseMove(e);\n\n    },\n    noteDownHandle(note) {\n      this.$refs[\"toolsHost\"].setOscilloscopeTiming(note);\n    },\n\n\n    noteUpHandle(note) {\n    },\n\n  },\n};\n</script>\n\n<style>\n.mainHost {\n  display: grid; /* no more flex display because we need Env Strip to be longer */\n  grid-template-rows: 55% 30% 15%; /* grid display row sizes*/\n  grid-template-columns: 20% 55% 25%; /*  ...   ...   column sizes fr is like unit */\n  width: 100%;\n  justify-content: center;\n  aspect-ratio: 4 / 3;\n  background-color: transparent;\n}\n.appContainer {\n  text-align: center;\n  width: 60%;\n  height: 100vh;\n  margin: auto;\n}\n.grid{\n  display: grid\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}