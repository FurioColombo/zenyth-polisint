{"ast":null,"code":"import { transcode } from \"buffer\";\nimport * as Tone from \"tone\";\nimport ToolsHost from \"../Tools/ToolsHost.vue\";\nimport Knobs from \"./Knobs.vue\";\nimport VolEnvelope from \"@/views/Synth/Modulators/VolEnvelope.vue\";\nimport Lfo from \"@/views/Synth/Modulators/Lfo.vue\";\nimport ModSelector from \"@/views/Synth/Modulators/ModSelector.vue\";\nimport EnvelopeVisualizer from \"./EnvelopeVisualizer.vue\";\nexport default {\n  components: {\n    EnvelopeVisualizer: EnvelopeVisualizer,\n    Knobs: Knobs\n  },\n  props: [\"id\"],\n  data: function data() {\n    return {\n      parameters: {\n        attack: 0.01 * 2.5,\n        attackCurve: \"linear\",\n        decay: 0.1 * 2.5,\n        decayCurve: \"linear\",\n        releaseCurve: \"linear\",\n        release: 0.1 * 2.5,\n        sustain: 0.5\n      }\n    };\n  },\n  methods: {\n    //UPDATE PARAMS CHANGED IN ENVELOPE VISUALIZER\n    handleRefresh: function handleRefresh(parameters) {\n      this.parameters = parameters;\n      this.$refs.knobs.updateParameters(this.parameters);\n    },\n    //-------------METHODS TO LINK WHEN DROPPING\n    link: function link(object, target, color) {\n      //console.log(\"THINGS HAPPENING \"+section+\" \"+target)\n      this.$refs.knobs.addLink(object, target, color);\n    },\n    unLink: function unLink(object, target) {\n      //console.log(\"THINGS HAPPENING \")\n      //console.log(object)\n      //console.log(target)\n      this.$refs.knobs.removeLink(object, target);\n    },\n    handleDraggableUpdate: function handleDraggableUpdate(isDraggable) {\n      this.$emit(\"isDraggableUpdate\", isDraggable);\n    },\n    //--------------METHODS TO SHOW/HIDE------------\n    unHide: function unHide() {\n      this.$refs.container.classList.remove(\"hidden\");\n    },\n    hide: function hide() {\n      this.$refs.container.classList.add(\"hidden\");\n    },\n    //----------------------------------------------\n    handleMouseMove: function handleMouseMove(e) {\n      this.$refs.visualizer.handleMouseMove(e);\n      this.$refs.knobs.handleMouseMove(e);\n    },\n    handleMouseUp: function handleMouseUp(e) {\n      this.$refs.visualizer.handleMouseUp(e);\n      this.$refs.knobs.handleMouseUp(e);\n    }\n  },\n  computed: {\n    border: function border() {\n      return {\n        background: '#ceeae7'\n      };\n    },\n    container: function container() {\n      return {\n        background: this.colors.azure.medium\n      };\n    }\n  }\n};","map":{"version":3,"mappings":"AAYA,SAAQA,SAAS,QAAO,QAAQ;AAChC,OAAO,KAAKC,IAAG,MAAO,MAAM;AAC5B,OAAOC,SAAQ,MAAO,wBAAwB;AAC9C,OAAOC,KAAI,MAAO,aAAa;AAC/B,OAAOC,WAAU,MAAO,0CAA0C;AAClE,OAAOC,GAAE,MAAO,kCAAkC;AAClD,OAAOC,WAAU,MAAO,0CAA0C;AAClE,OAAOC,kBAAiB,MAAO,0BAA0B;AAEzD,eAAe;EACbC,UAAU,EAAE;IACVD,kBAAkB,EAAlBA,kBAAkB;IAAEJ,KAAK,EAALA;EACtB,CAAC;EACDM,KAAK,EAAE,CAAC,IAAI,CAAC;EACbC,IAAI,kBAAG;IACL,OAAO;MACLC,UAAU,EAAE;QACVC,MAAM,EAAE,IAAG,GAAI,GAAG;QAClBC,WAAW,EAAE,QAAQ;QACrBC,KAAK,EAAE,GAAE,GAAI,GAAG;QAChBC,UAAU,EAAE,QAAQ;QACpBC,YAAY,EAAE,QAAQ;QACtBC,OAAO,EAAE,GAAE,GAAI,GAAG;QAClBC,OAAO,EAAE;MACX;IAEF;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,aAAa,yBAACT,UAAU,EAAE;MACxB,IAAI,CAACA,UAAS,GAAIA,UAAS;MAC3B,IAAI,CAACU,KAAK,CAACC,KAAK,CAACC,gBAAgB,CAAC,IAAI,CAACZ,UAAU;IACnD,CAAC;IACD;IACAa,IAAI,gBAACC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAE;MAC1B;MACA,IAAI,CAACN,KAAK,CAACC,KAAK,CAACM,OAAO,CAACH,MAAM,EAAEC,MAAM,EAAEC,KAAK;IAEhD,CAAC;IACDE,MAAM,kBAACJ,MAAM,EAAEC,MAAM,EAAE;MACrB;MACA;MACA;MACA,IAAI,CAACL,KAAK,CAACC,KAAK,CAACQ,UAAU,CAACL,MAAM,EAAEC,MAAM;IAC5C,CAAC;IACDK,qBAAqB,iCAACC,WAAW,EAAE;MACjC,IAAI,CAACC,KAAK,CAAC,mBAAmB,EAAED,WAAW;IAC7C,CAAC;IACD;IACAE,MAAM,oBAAG;MACP,IAAI,CAACb,KAAK,CAACc,SAAS,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;IACjD,CAAC;IACDC,IAAI,kBAAG;MACL,IAAI,CAACjB,KAAK,CAACc,SAAS,CAACC,SAAS,CAACG,GAAG,CAAC,QAAQ,CAAC;IAC9C,CAAC;IACD;IACAC,eAAe,2BAACC,CAAC,EAAE;MACjB,IAAI,CAACpB,KAAK,CAACqB,UAAU,CAACF,eAAe,CAACC,CAAC,CAAC;MACxC,IAAI,CAACpB,KAAK,CAACC,KAAK,CAACkB,eAAe,CAACC,CAAC,CAAC;IACrC,CAAC;IACDE,aAAa,yBAACF,CAAC,EAAE;MACf,IAAI,CAACpB,KAAK,CAACqB,UAAU,CAACC,aAAa,CAACF,CAAC,CAAC;MACtC,IAAI,CAACpB,KAAK,CAACC,KAAK,CAACqB,aAAa,CAACF,CAAC,CAAC;IACnC;EACF,CAAC;EACDG,QAAQ,EAAE;IACRC,MAAM,oBAAE;MACN,OAAM;QACJC,UAAU,EAAE;MACd;IACF,CAAC;IACDX,SAAS,uBAAE;MACT,OAAM;QACJW,UAAU,EAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC;MAChC;IACF;EACF;AACF,CAAC","names":["transcode","Tone","ToolsHost","Knobs","VolEnvelope","Lfo","ModSelector","EnvelopeVisualizer","components","props","data","parameters","attack","attackCurve","decay","decayCurve","releaseCurve","release","sustain","methods","handleRefresh","$refs","knobs","updateParameters","link","object","target","color","addLink","unLink","removeLink","handleDraggableUpdate","isDraggable","$emit","unHide","container","classList","remove","hide","add","handleMouseMove","e","visualizer","handleMouseUp","computed","border","background","colors","azure","medium"],"sourceRoot":"","sources":["C:\\Home\\Projects\\Programmazione\\WebStorm\\myZenythPolisinT\\zenyth_polisint\\src\\views\\Synth\\Modulators\\Envelope.vue"],"sourcesContent":["<template>\r\n  <div ref=\"container\" class=\"container hidden\" :style=\"this.container\">\r\n    <div class=\"border\" :style=\"this.border\">\r\n      <EnvelopeVisualizer ref=\"visualizer\" :is_volume=\"false\" @paramRefresh=\"handleRefresh\"/>\r\n      <Knobs ref=\"knobs\" type=\"envelope\" :id=\"this.id\" :parameters=\"this.parameters\"\r\n             @isDraggableUpdate=\"handleDraggableUpdate\"/>\r\n      <div> </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {transcode} from \"buffer\";\r\nimport * as Tone from \"tone\";\r\nimport ToolsHost from \"../Tools/ToolsHost.vue\";\r\nimport Knobs from \"./Knobs.vue\";\r\nimport VolEnvelope from \"@/views/Synth/Modulators/VolEnvelope.vue\";\r\nimport Lfo from \"@/views/Synth/Modulators/Lfo.vue\";\r\nimport ModSelector from \"@/views/Synth/Modulators/ModSelector.vue\";\r\nimport EnvelopeVisualizer from \"./EnvelopeVisualizer.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    EnvelopeVisualizer, Knobs,\r\n  },\r\n  props: [\"id\"],\r\n  data() {\r\n    return {\r\n      parameters: {\r\n        attack: 0.01 * 2.5,\r\n        attackCurve: \"linear\",\r\n        decay: 0.1 * 2.5,\r\n        decayCurve: \"linear\",\r\n        releaseCurve: \"linear\",\r\n        release: 0.1 * 2.5,\r\n        sustain: 0.5,\r\n      },\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    //UPDATE PARAMS CHANGED IN ENVELOPE VISUALIZER\r\n    handleRefresh(parameters) {\r\n      this.parameters = parameters\r\n      this.$refs.knobs.updateParameters(this.parameters)\r\n    },\r\n    //-------------METHODS TO LINK WHEN DROPPING\r\n    link(object, target, color) {\r\n      //console.log(\"THINGS HAPPENING \"+section+\" \"+target)\r\n      this.$refs.knobs.addLink(object, target, color)\r\n\r\n    },\r\n    unLink(object, target) {\r\n      //console.log(\"THINGS HAPPENING \")\r\n      //console.log(object)\r\n      //console.log(target)\r\n      this.$refs.knobs.removeLink(object, target)\r\n    },\r\n    handleDraggableUpdate(isDraggable) {\r\n      this.$emit(\"isDraggableUpdate\", isDraggable)\r\n    },\r\n    //--------------METHODS TO SHOW/HIDE------------\r\n    unHide() {\r\n      this.$refs.container.classList.remove(\"hidden\");\r\n    },\r\n    hide() {\r\n      this.$refs.container.classList.add(\"hidden\");\r\n    },\r\n    //----------------------------------------------\r\n    handleMouseMove(e) {\r\n      this.$refs.visualizer.handleMouseMove(e);\r\n      this.$refs.knobs.handleMouseMove(e);\r\n    },\r\n    handleMouseUp(e) {\r\n      this.$refs.visualizer.handleMouseUp(e);\r\n      this.$refs.knobs.handleMouseUp(e);\r\n    }\r\n  },\r\n  computed: {\r\n    border(){\r\n      return{\r\n        background: '#ceeae7'\r\n      }\r\n    },\r\n    container(){\r\n      return{\r\n        background: this.colors.azure.medium\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.border {\r\n  grid-template-columns: calc(6 / 8 * 100%) calc(2 / 8 * 100%);\r\n  grid-template-rows: 100% ;\r\n\r\n  position: relative;\r\n  display: grid;\r\n  width: calc(100% - 0.6vw);\r\n  height: calc(100% - 0.6vw);\r\n  box-sizing: border-box;\r\n  margin: 0.3vw;\r\n  border-radius: 0.2vw;\r\n  border: 0.1vw solid #334030;\r\n}\r\n\r\n.container {\r\n  grid-column: span 2;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n.envelope {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: transparent;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.centering {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}