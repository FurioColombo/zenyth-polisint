{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.object.values.js\";\nexport default {\n  name: \"Octave\",\n  props: {\n    octaveNumber: Number\n  },\n  data: function data() {\n    return {};\n  },\n  methods: {\n    handleMouseLeave: function handleMouseLeave(e) {\n      if (this.$parent.mouseDown) {\n        this.notifyUp(e.currentTarget);\n      }\n    },\n    handleMouseUp: function handleMouseUp(e) {\n      this.$parent.mouseDown = false;\n      this.notifyUp(e.target);\n      //console.log(\"mouse is now up\")\n    },\n    handleMouseDown: function handleMouseDown(e) {\n      this.$parent.mouseDown = true;\n      this.notifyDown(e.target);\n      //console.log(\"mouse is now down\")\n    },\n    handleMouseOver: function handleMouseOver(e) {\n      if (this.$parent.mouseDown) {\n        //console.log(e.target)\n        this.notifyDown(e.target);\n      }\n      //console.log(\"mouseDown is \"+this.$parent.mouseDown+\" and is moving\")\n    },\n    notifyDown: function notifyDown(key) {\n      //emitting cusom event \"keyDown\"\n      this.$emit(\"virtualKeyDown\", key.id, this.octaveNumber);\n      this.switchColorPress(key.id);\n    },\n    switchColorPress: function switchColorPress(note) {\n      if (note.includes(\"#\")) {\n        note = note.replace(\"#\", \"s\");\n      }\n      var key = this.$refs[note];\n      //change color of key when pressed\n      if (key.classList.contains('wkey')) {\n        key.classList.remove(\"wUnpressed\");\n        key.classList.add(\"pressed\");\n      } else {\n        key.classList.remove(\"bUnpressed\");\n        key.classList.add(\"pressed\");\n      }\n    },\n    notifyUp: function notifyUp(key) {\n      //emitting cusom event \"keyUp\"\n      this.$emit(\"virtualKeyUp\", key.id, this.octaveNumber);\n      this.switchColorRelease(key.id);\n      //not needed, called in PianoKeyboard (when clicking with the mouse on keyboard all keys are released (color))\n    },\n    switchColorRelease: function switchColorRelease(note) {\n      if (note === \"all\") {\n        for (var _i = 0, _Object$values = Object.values(this.$refs); _i < _Object$values.length; _i++) {\n          var ref = _Object$values[_i];\n          if (ref.classList.contains('wkey')) {\n            ref.classList.add(\"wUnpressed\");\n            ref.classList.remove(\"pressed\");\n          } else {\n            ref.classList.add(\"bUnpressed\");\n            ref.classList.remove(\"pressed\");\n          }\n        }\n      } else {\n        if (note.includes(\"#\")) {\n          note = note.replace(\"#\", \"s\");\n        }\n        var key = this.$refs[note];\n        //change color of key when released\n        if (key.classList.contains('wkey')) {\n          key.classList.add(\"wUnpressed\");\n          key.classList.remove(\"pressed\");\n        } else {\n          key.classList.add(\"bUnpressed\");\n          key.classList.remove(\"pressed\");\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","props","octaveNumber","Number","data","methods","handleMouseLeave","e","$parent","mouseDown","notifyUp","currentTarget","handleMouseUp","target","handleMouseDown","notifyDown","handleMouseOver","key","$emit","id","switchColorPress","note","includes","replace","$refs","classList","contains","remove","add","switchColorRelease","Object","values","ref"],"sourceRoot":"","sources":["C:\\Home\\Projects\\Programmazione\\WebStorm\\myZenythPolisinT\\zenyth_polisint\\src\\views\\Synth\\Keyboard\\Octave.vue"],"sourcesContent":["<template>\r\n    <div class=\"octave\" @mousedown=\"handleMouseDown\" @mouseup=\"handleMouseUp\"  @mouseover=\"handleMouseOver\">\r\n        <div class=\"woctave\">\r\n            <div id=\"C\" ref=\"C\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\r\n            <div id=\"D\" ref=\"D\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\r\n            <div id=\"E\" ref=\"E\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\r\n            <div id=\"F\" ref=\"F\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\r\n            <div id=\"G\" ref=\"G\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\r\n            <div id=\"A\" ref=\"A\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\r\n            <div id=\"B\" ref=\"B\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\r\n        </div>\r\n        <div class=\"boctave\">\r\n            <div id=\"C#\" ref=\"Cs\" @mouseleave=\"handleMouseLeave\" class=\"bkey bUnpressed\" style=\"grid-column: 3 / 5\"></div>\r\n            <div id=\"D#\" ref=\"Ds\" @mouseleave=\"handleMouseLeave\" class=\"bkey bUnpressed\" style=\"grid-column: 6 / 8\"></div>\r\n            <div id=\"F#\" ref=\"Fs\" @mouseleave=\"handleMouseLeave\" class=\"bkey bUnpressed\" style=\"grid-column: 12 / 14\"></div>\r\n            <div id=\"G#\" ref=\"Gs\" @mouseleave=\"handleMouseLeave\" class=\"bkey bUnpressed\" style=\"grid-column: 15 / 17\"></div>\r\n            <div id=\"A#\" ref=\"As\" @mouseleave=\"handleMouseLeave\" class=\"bkey bUnpressed\" style=\"grid-column: 18 / 20\"></div>\r\n        </div>   \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Octave\",\r\n    props: {\r\n        octaveNumber: Number,\r\n    },\r\n        data() {\r\n        return {\r\n        }\r\n    },\r\n    methods: {\r\n        handleMouseLeave(e){\r\n            if(this.$parent.mouseDown){\r\n                this.notifyUp(e.currentTarget)\r\n            }    \r\n        },\r\n        handleMouseUp(e) {\r\n            this.$parent.mouseDown= false;\r\n            this.notifyUp(e.target)\r\n            //console.log(\"mouse is now up\")\r\n        },\r\n        handleMouseDown(e) {\r\n            this.$parent.mouseDown= true;\r\n            this.notifyDown(e.target)\r\n            //console.log(\"mouse is now down\")\r\n        },\r\n        handleMouseOver(e){\r\n            if(this.$parent.mouseDown){\r\n                //console.log(e.target)\r\n                this.notifyDown(e.target)\r\n\r\n            }\r\n            //console.log(\"mouseDown is \"+this.$parent.mouseDown+\" and is moving\")\r\n        },\r\n        notifyDown(key){\r\n            //emitting cusom event \"keyDown\"\r\n            this.$emit(\"virtualKeyDown\",key.id,this.octaveNumber)\r\n            this.switchColorPress(key.id)\r\n        },\r\n        switchColorPress(note){\r\n            if(note.includes(\"#\")){\r\n                note = note.replace(\"#\",\"s\")\r\n            }\r\n            let key = this.$refs[note];\r\n            //change color of key when pressed\r\n            if (key.classList.contains('wkey')){\r\n                key.classList.remove(\"wUnpressed\")\r\n                key.classList.add(\"pressed\")\r\n            }else{\r\n                key.classList.remove(\"bUnpressed\")\r\n                key.classList.add(\"pressed\")\r\n            }     \r\n        },\r\n        notifyUp(key){\r\n            //emitting cusom event \"keyUp\"\r\n            this.$emit(\"virtualKeyUp\",key.id,this.octaveNumber)\r\n            this.switchColorRelease(key.id)\r\n            //not needed, called in PianoKeyboard (when clicking with the mouse on keyboard all keys are released (color))\r\n        },\r\n        switchColorRelease(note){\r\n            if(note === \"all\"){\r\n                for (const ref of Object.values(this.$refs)) {\r\n                    if (ref.classList.contains('wkey')){\r\n                        ref.classList.add(\"wUnpressed\")\r\n                        ref.classList.remove(\"pressed\")\r\n                    }else{\r\n                        ref.classList.add(\"bUnpressed\")\r\n                        ref.classList.remove(\"pressed\")\r\n                    }\r\n                }  \r\n            }else{\r\n                if(note.includes(\"#\")){\r\n                note = note.replace(\"#\",\"s\")\r\n                }\r\n                let key = this.$refs[note];\r\n                //change color of key when released\r\n                if (key.classList.contains('wkey')){\r\n                    key.classList.add(\"wUnpressed\")\r\n                    key.classList.remove(\"pressed\")\r\n                }else{\r\n                    key.classList.add(\"bUnpressed\")\r\n                    key.classList.remove(\"pressed\")\r\n                }\r\n            }\r\n            \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n    .octave{\r\n        width: 100%;\r\n        height: 100%;\r\n        box-sizing: border-box;\r\n        position:relative;   \r\n    }\r\n    .woctave{\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        left: 0;      \r\n    }\r\n    .boctave{\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        display: grid;\r\n        grid-template-columns: repeat(21, 1fr);  \r\n        grid-template-rows: 100%;  \r\n    }\r\n    .wkey{\r\n        width: 100%;\r\n        height: 100%;\r\n        border: solid black 0.06vw;\r\n        box-sizing: border-box;\r\n        border-radius: 0.2vw;\r\n        z-index: 1;\r\n    }\r\n    .wUnpressed{\r\n        background-color:#f8e7e6;\r\n        opacity: 40%;\r\n    }\r\n    .bUnpressed{\r\n        background-color:#645352;\r\n    }\r\n    .pressed{\r\n        background-color:#f3a59a;\r\n    }\r\n    .bkey{\r\n        width: 100%;\r\n        height: 60%;\r\n        border: solid black 0.06vw;\r\n        box-sizing: border-box;\r\n        border-radius: 0.2vw;\r\n        position: relative;\r\n        z-index: 1;\r\n    }\r\n    \r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}