{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-0ebe32a4\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"scrollable\"\n};\nvar _hoisted_2 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    \"class\": \"oscVoid\"\n  }, \"+\", -1 /* HOISTED */);\n});\nvar _hoisted_3 = [_hoisted_2];\nvar _hoisted_4 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    \"class\": \"oscVoid\"\n  }, \"+\", -1 /* HOISTED */);\n});\nvar _hoisted_5 = [_hoisted_4];\nvar _hoisted_6 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    \"class\": \"oscVoid\"\n  }, \"+\", -1 /* HOISTED */);\n});\nvar _hoisted_7 = [_hoisted_6];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_Osc = _resolveComponent(\"Osc\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    \"class\": \"oscHost\",\n    style: _normalizeStyle(this.oscHost)\n  }, [_createElementVNode(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.oscList, function (osc) {\n    return _openBlock(), _createBlock(_component_Osc, {\n      key: osc.id,\n      ref_for: true,\n      ref: osc.ref,\n      id: osc.id,\n      onDisposed: $options.removeOsc,\n      onNewOsc: $options.handleNewOsc\n    }, null, 8 /* PROPS */, [\"id\", \"onDisposed\", \"onNewOsc\"]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", {\n    \"class\": \"voidContainer\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.addOsc && $options.addOsc.apply($options, arguments);\n    })\n  }, [_createElementVNode(\"div\", {\n    \"class\": \"voidBorder\",\n    style: _normalizeStyle($options.voidBorder)\n  }, _hoisted_3, 4 /* STYLE */)]), this.oscList.length <= 1 ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    \"class\": \"voidContainer\",\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $options.addOsc && $options.addOsc.apply($options, arguments);\n    })\n  }, [_createElementVNode(\"div\", {\n    \"class\": \"voidBorder\",\n    style: _normalizeStyle($options.voidBorder)\n  }, _hoisted_5, 4 /* STYLE */)])) : _createCommentVNode(\"v-if\", true), this.oscList.length <= 0 ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    \"class\": \"voidContainer\",\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $options.addOsc && $options.addOsc.apply($options, arguments);\n    })\n  }, [_createElementVNode(\"div\", {\n    \"class\": \"voidBorder\",\n    style: _normalizeStyle($options.voidBorder)\n  }, _hoisted_7, 4 /* STYLE */)])) : _createCommentVNode(\"v-if\", true)])], 4 /* STYLE */);\n}","map":{"version":3,"mappings":";;;;;EAES,SAAM;AAAY;;sBAWjBA,oBAA4B;IAAvB,SAAM;EAAS,GAAC,GAAC;AAAA;kBAAtBC,UAA4B;;sBAK5BD,oBAA4B;IAAvB,SAAM;EAAS,GAAC,GAAC;AAAA;kBAAtBE,UAA4B;;sBAK5BF,oBAA6B;IAAxB,SAAM;EAAS,GAAE,GAAC;AAAA;kBAAvBG,UAA6B;;;uBAtBrCC,oBA0BM;IA1BD,SAAM,SAAS;IAAEC,KAAK,uBAAOC,OAAO;MACvCN,oBAwBM,OAxBNO,UAwBM,sBAvBJH,oBAOWI,kCAPoBC,OAAO,YAApBC,GAAG;yBACnBC,aAKEC;WAN0CF,GAAG,CAACG,EAAE;;MAE7CC,GAAG,EAAEJ,GAAG,CAACI,GAAG;MACZD,EAAE,EAAEH,GAAG,CAACG,EAAE;MACVE,UAAQ,EAAEC,kBAAS;MACnBC,QAAM,EAAED;;kCAGfhB,oBAIM;IAJD,SAAM,eAAe;IAAEkB,OAAK;MAAA,OAAEF,6DAAM;IAAA;MACvChB,oBAEM;IAFD,SAAM,YAAY;IAAEK,KAAK,kBAAEW,mBAAU;wCAI3BP,OAAO,CAACU,MAAM,uBAA/Bf,oBAIM;;IAJgC,SAAM,eAAe;IAAEc,OAAK;MAAA,OAAEF,6DAAM;IAAA;MACxEhB,oBAEM;IAFD,SAAM,YAAY;IAAEK,KAAK,kBAAEW,mBAAU;6EAI3BP,OAAO,CAACU,MAAM,uBAA/Bf,oBAIM;;IAJgC,SAAM,eAAe;IAAEc,OAAK;MAAA,OAAEF,6DAAM;IAAA;MACxEhB,oBAEM;IAFD,SAAM,YAAY;IAAEK,KAAK,kBAAEW,mBAAU","names":["_createElementVNode","_hoisted_2","_hoisted_4","_hoisted_6","_createElementBlock","style","oscHost","_hoisted_1","_Fragment","oscList","osc","_createBlock","_component_Osc","id","ref","onDisposed","$options","onNewOsc","onClick","length"],"sourceRoot":"","sources":["C:\\Home\\Projects\\Programmazione\\WebStorm\\myZenythPolisinT\\zenyth_polisint\\src\\views\\Synth\\Oscillators\\OscHost.vue"],"sourcesContent":["<template>\r\n  <div class=\"oscHost\" :style=\"this.oscHost\">\r\n    <div class=\"scrollable\">\r\n      <template v-for=\"(osc) in this.oscList\" :key=\"osc.id\" :item=\"osc\">\r\n        <Osc\r\n            :ref=\"osc.ref\"\r\n            :id=\"osc.id\"\r\n            @disposed=\"removeOsc\"\r\n            @newOsc=\"handleNewOsc\"\r\n        />\r\n      </template>\r\n      <div class=\"voidContainer\" @click=\"addOsc\">\r\n        <div class=\"voidBorder\" :style=\"voidBorder\">\r\n          <div class=\"oscVoid\">+</div>\r\n        </div>\r\n      </div>\r\n      <div  v-if=\"this.oscList.length <= 1\" class=\"voidContainer\" @click=\"addOsc\">\r\n        <div class=\"voidBorder\" :style=\"voidBorder\">\r\n          <div class=\"oscVoid\">+</div>\r\n        </div>\r\n      </div>\r\n      <div  v-if=\"this.oscList.length <= 0\" class=\"voidContainer\" @click=\"addOsc\">\r\n        <div class=\"voidBorder\" :style=\"voidBorder\">\r\n          <div class=\"oscVoid\" >+</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Osc from \"./Osc.vue\";\r\nimport Vue from \"vue\";\r\nimport {isProxy, toRaw} from \"vue\";\r\n\r\nexport default {\r\n  components: {\r\n    Osc,\r\n  },\r\n\r\n  data() {\r\n    // data structure oscillators list\r\n    return {\r\n      oscList: [],\r\n      name: \"oscHost\",\r\n      i: 0,\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.addOsc();\r\n    this.addOsc();\r\n  },\r\n\r\n  methods: {\r\n    handleNewOsc(){\r\n      this.$emit(\"newOsc\")\r\n    },\r\n    initConnections() {\r\n      for (let key in this.$refs) {\r\n        //console.log(toRaw(this.$refs[key][0]))\r\n        toRaw(this.$refs[key][0]).initConnections()\r\n\r\n      }\r\n    },\r\n    addOsc() {\r\n      //TO-DO REWRITE\r\n      let ref = \"osc\" + this.i;\r\n      this.oscList.push({id: this.i, ref: ref});\r\n      //console.log(\"adding osc\" + this.i)\r\n      //console.log(this.oscList);\r\n      this.i += 1;\r\n    },\r\n\r\n    removeOsc(id) {\r\n      //console.log(\"removing oscillator\" + id);\r\n      // Remove the oscillator from the list\r\n      let index = 0\r\n      this.oscList.forEach(osc => {\r\n        if (osc.id === id) index = this.oscList.indexOf(osc)\r\n      });\r\n      this.oscList.splice(index, 1);\r\n    },\r\n  },\r\n  unmounted() {\r\n  },\r\n  computed: {\r\n    oscHost(){\r\n      return{\r\n        background: '#f8e7e6',\r\n      }\r\n    },\r\n    voidBorder(){\r\n      return{\r\n        background: this.colors.pink.glow,\r\n        border: '.1vw solid' + this.colors.pink.dark\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.scrollable {\r\n  font-size: 2vw;\r\n  justify-content: center;\r\n  overflow-y: scroll;\r\n  /* Add a vertical scrollbar */\r\n  overflow-x: hidden;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.voidContainer {\r\n  width: 100%;\r\n  height: calc(100% / 3);\r\n  position: relative\r\n}\r\n\r\n.voidBorder {\r\n  height: 100%;\r\n  padding: 0.3vw;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.oscVoid {\r\n  border: 0.1vw solid #c2847b;\r\n  color: #c2847b;\r\n  background: #f8e7e6;\r\n  border-radius: 0.3vw;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  justify-content: center;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 2vw;\r\n}\r\n.oscVoid:hover {\r\n  border: 0.1vw solid #63443e;\r\n  color: #63443e;\r\n  border-radius: 0.3vw;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  justify-content: center;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 2vw;\r\n}\r\n\r\n/*  hide the scrollbar because cannot be resized in Chrome, Safari (breaks % layout)*/\r\n.scrollable::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}