{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_EnvelopeVisualizer = _resolveComponent(\"EnvelopeVisualizer\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    ref: \"container\",\n    \"class\": \"container hidden\",\n    style: _normalizeStyle(this.container)\n  }, [_createElementVNode(\"div\", {\n    \"class\": \"border\",\n    style: _normalizeStyle(this.border)\n  }, [_createVNode(_component_EnvelopeVisualizer, {\n    ref: \"visualizer\",\n    is_volume: true,\n    onParamRefresh: $options.handleRefresh\n  }, null, 8, [\"onParamRefresh\"])], 4)], 4);\n}","map":{"version":3,"mappings":";;;uBACEA,oBAIM;IAJDC,GAAG,EAAC,WAAW;IAAC,SAAM,kBAAkB;IAAEC,KAAK,uBAAOC,SAAS;MAClEC,oBAEM;IAFD,SAAM,QAAQ;IAAEF,KAAK,uBAAOG,MAAM;MACrCC,aAAuFC;IAAnEN,GAAG,EAAC,YAAY;IAAEO,SAAS,EAAE,IAAI;IAAGC,cAAY,EAAEC","names":["_createElementBlock","ref","style","container","_createElementVNode","border","_createVNode","_component_EnvelopeVisualizer","is_volume","onParamRefresh","$options"],"sourceRoot":"","sources":["/Users/eliapirrello/Documents/GitHub/zenyth/src/views/Synth/Modulators/VolEnvelope.vue"],"sourcesContent":["<template>\n  <div ref=\"container\" class=\"container hidden\" :style=\"this.container\">\n    <div class=\"border\" :style=\"this.border\">\n      <EnvelopeVisualizer ref=\"visualizer\" :is_volume=\"true\" @paramRefresh=\"handleRefresh\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { transcode } from \"buffer\";\nimport * as Tone from \"tone\";\nimport ToolsHost from \"../Tools/ToolsHost.vue\";\nimport EnvelopeVisualizer from \"./EnvelopeVisualizer.vue\";\nexport default {\n  props: [\"id\"],\n  components: {\n    EnvelopeVisualizer\n  },\n  data() {\n    return {\n      tempEvent: null,\n      type: \"envelope\",\n      parameters: {\n      },\n      knobList: [],\n      is_attack_down: false,\n      is_decay_down: false,\n      is_sustain_down: false,\n      is_release_down: false,\n    };\n  },\n  mounted() {\n     this.parameters = {\n      attack: 0.1,\n      attackCurve: \"linear\",\n      decay: 0.5,\n      decayCurve: \"linear\",\n      sustain: 0.5,\n      releaseCurve: \"linear\",\n      release: 1,\n      scale: 1,\n    }; \n    for (let i = 0; i < 9; i++) {\n      this.knobList.push({ id: i, ref: \"knob\" + i });\n    }\n  },\n  methods: {\n    handleRefresh(parameters) {\n      this.parameters = parameters\n      this.synths.list.forEach((synth) => {\n        synth.setModulatorParameters(\"envelope\", \"vol\", this.parameters);\n      });\n    },\n    handleNewOsc() {\n      //called when a new osc is created to set default values\n      this.synths.list.forEach((synth) => {\n        synth.setModulatorParameters(\"envelope\", \"vol\", this.parameters);\n      })\n    },\n    unHide() {\n      this.$refs.container.classList.remove(\"hidden\");\n    },\n    hide() {\n      this.$refs.container.classList.add(\"hidden\");\n    },\n    handleMouseMove(e) {\n      this.$refs.visualizer.handleMouseMove(e);\n    },\n    handleMouseUp(e) {\n      this.$refs.visualizer.handleMouseUp(e);\n    }\n  },\n  computed: {\n    border() {\n      return {\n        background: '#f8e7e6',\n        opacity: '100%'\n      }\n    },\n    container() {\n      return {\n        background: this.colors.pink.medium\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.border {\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n\n  position: relative;\n  display: grid;\n  width: calc(100% - 0.6vw);\n  height: calc(100% - 0.6vw);\n  box-sizing: border-box;\n  margin: 0.3vw;\n  border-radius: 0.2vw;\n  border: 0.1vw solid #334030;\n}\n\n.container {\n  position: relative;\n  display: grid;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n\n.hidden {\n  display: none;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}