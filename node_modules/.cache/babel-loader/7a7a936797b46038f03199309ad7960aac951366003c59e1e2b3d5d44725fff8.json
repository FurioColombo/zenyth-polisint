{"ast":null,"code":"import { Loop } from \"./Loop\";\nimport { PatternGenerator } from \"./PatternGenerator\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { noOp } from \"../core/util/Interface\";\n/**\n * Pattern arpeggiates between the given notes\n * in a number of patterns.\n * @example\n * const pattern = new Tone.Pattern((time, note) => {\n * \t// the order of the notes passed in depends on the pattern\n * }, [\"C2\", \"D4\", \"E5\", \"A6\"], \"upDown\");\n * @category Event\n */\nexport class Pattern extends Loop {\n  constructor() {\n    super(optionsFromArguments(Pattern.getDefaults(), arguments, [\"callback\", \"values\", \"pattern\"]));\n    this.name = \"Pattern\";\n    const options = optionsFromArguments(Pattern.getDefaults(), arguments, [\"callback\", \"values\", \"pattern\"]);\n    this.callback = options.callback;\n    this._values = options.values;\n    this._pattern = PatternGenerator(options.values, options.pattern);\n    this._type = options.pattern;\n  }\n  static getDefaults() {\n    return Object.assign(Loop.getDefaults(), {\n      pattern: \"up\",\n      values: [],\n      callback: noOp\n    });\n  }\n  /**\n   * Internal function called when the notes should be called\n   */\n  _tick(time) {\n    const value = this._pattern.next();\n    this._value = value.value;\n    this.callback(time, this._value);\n  }\n  /**\n   * The array of events.\n   */\n  get values() {\n    return this._values;\n  }\n  set values(val) {\n    this._values = val;\n    // reset the pattern\n    this.pattern = this._type;\n  }\n  /**\n   * The current value of the pattern.\n   */\n  get value() {\n    return this._value;\n  }\n  /**\n   * The pattern type. See Tone.CtrlPattern for the full list of patterns.\n   */\n  get pattern() {\n    return this._type;\n  }\n  set pattern(pattern) {\n    this._type = pattern;\n    this._pattern = PatternGenerator(this._values, this._type);\n  }\n}","map":{"version":3,"mappings":"AAAA,SAASA,IAAI,QAAqB,QAAQ;AAC1C,SAASC,gBAAgB,QAAqB,oBAAoB;AAElE,SAASC,oBAAoB,QAAQ,uBAAuB;AAE5D,SAASC,IAAI,QAAQ,wBAAwB;AAQ7C;;;;;;;;;AASA,OAAM,MAAOC,OAAmB,SAAQJ,IAA+B;EAwCtEK;IAEC,KAAK,CAACH,oBAAoB,CAACE,OAAO,CAACE,WAAW,EAAE,EAAEC,SAAS,EAAE,CAAC,UAAU,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC;IAxCxF,SAAI,GAAW,SAAS;IAyChC,MAAMC,OAAO,GAAGN,oBAAoB,CAACE,OAAO,CAACE,WAAW,EAAE,EAAEC,SAAS,EAAE,CAAC,UAAU,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;IAEzG,IAAI,CAACE,QAAQ,GAAGD,OAAO,CAACC,QAAQ;IAChC,IAAI,CAACC,OAAO,GAAGF,OAAO,CAACG,MAAM;IAC7B,IAAI,CAACC,QAAQ,GAAGX,gBAAgB,CAACO,OAAO,CAACG,MAAM,EAAEH,OAAO,CAACK,OAAO,CAAC;IACjE,IAAI,CAACC,KAAK,GAAGN,OAAO,CAACK,OAAO;EAC7B;EAEA,OAAOP,WAAW;IACjB,OAAOS,MAAM,CAACC,MAAM,CAAChB,IAAI,CAACM,WAAW,EAAE,EAAE;MACxCO,OAAO,EAAE,IAAY;MACrBF,MAAM,EAAE,EAAE;MACVF,QAAQ,EAAEN;KACV,CAAC;EACH;EAEA;;;EAGUc,KAAK,CAACC,IAAa;IAC5B,MAAMC,KAAK,GAAG,IAAI,CAACP,QAAQ,CAACQ,IAAI,EAA+B;IAC/D,IAAI,CAACC,MAAM,GAAGF,KAAK,CAACA,KAAK;IACzB,IAAI,CAACV,QAAQ,CAACS,IAAI,EAAE,IAAI,CAACG,MAAM,CAAC;EACjC;EAEA;;;EAGA,IAAIV,MAAM;IACT,OAAO,IAAI,CAACD,OAAO;EACpB;EACA,IAAIC,MAAM,CAACW,GAAG;IACb,IAAI,CAACZ,OAAO,GAAGY,GAAG;IAClB;IACA,IAAI,CAACT,OAAO,GAAG,IAAI,CAACC,KAAK;EAC1B;EAEA;;;EAGA,IAAIK,KAAK;IACR,OAAO,IAAI,CAACE,MAAM;EACnB;EAEA;;;EAGA,IAAIR,OAAO;IACV,OAAO,IAAI,CAACC,KAAK;EAClB;EACA,IAAID,OAAO,CAACA,OAAO;IAClB,IAAI,CAACC,KAAK,GAAGD,OAAO;IACpB,IAAI,CAACD,QAAQ,GAAGX,gBAAgB,CAAC,IAAI,CAACS,OAAO,EAAE,IAAI,CAACI,KAAK,CAAC;EAC3D","names":["Loop","PatternGenerator","optionsFromArguments","noOp","Pattern","constructor","getDefaults","arguments","options","callback","_values","values","_pattern","pattern","_type","Object","assign","_tick","time","value","next","_value","val"],"sourceRoot":"","sources":["../../../Tone/event/Pattern.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}