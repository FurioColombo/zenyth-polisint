{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-3588f8fe\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", null, null, -1 /* HOISTED */);\n});\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_EnvelopeVisualizer = _resolveComponent(\"EnvelopeVisualizer\");\n  var _component_Knobs = _resolveComponent(\"Knobs\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    ref: \"container\",\n    \"class\": \"container hidden\",\n    style: _normalizeStyle(this.container)\n  }, [_createElementVNode(\"div\", {\n    \"class\": \"border\",\n    style: _normalizeStyle(this.border)\n  }, [_createVNode(_component_EnvelopeVisualizer, {\n    ref: \"visualizer\",\n    is_volume: false,\n    onParamRefresh: $options.handleRefresh\n  }, null, 8 /* PROPS */, [\"onParamRefresh\"]), _createVNode(_component_Knobs, {\n    ref: \"knobs\",\n    type: \"envelope\",\n    id: this.id,\n    parameters: this.parameters,\n    onIsDraggableUpdate: $options.handleDraggableUpdate\n  }, null, 8 /* PROPS */, [\"id\", \"parameters\", \"onIsDraggableUpdate\"]), _hoisted_1], 4 /* STYLE */)], 4 /* STYLE */);\n}","map":{"version":3,"mappings":";;;;;sBAMMA,oBAAY;AAAA;;;;;uBALhBC,oBAOM;IAPDC,GAAG,EAAC,WAAW;IAAC,SAAM,kBAAkB;IAAEC,KAAK,uBAAOC,SAAS;MAClEJ,oBAKM;IALD,SAAM,QAAQ;IAAEG,KAAK,uBAAOE,MAAM;MACrCC,aAAuFC;IAAnEL,GAAG,EAAC,YAAY;IAAEM,SAAS,EAAE,KAAK;IAAGC,cAAY,EAAEC;+CACvEJ,aACmDK;IAD5CT,GAAG,EAAC,OAAO;IAACU,IAAI,EAAC,UAAU;IAAEC,EAAE,OAAOA,EAAE;IAAGC,UAAU,OAAOA,UAAU;IACrEC,mBAAiB,EAAEL;wEAC3BM,UAAY","names":["_createElementVNode","_createElementBlock","ref","style","container","border","_createVNode","_component_EnvelopeVisualizer","is_volume","onParamRefresh","$options","_component_Knobs","type","id","parameters","onIsDraggableUpdate","_hoisted_1"],"sourceRoot":"","sources":["C:\\Home\\Projects\\Programmazione\\WebStorm\\myZenythPolisinT\\zenyth_polisint\\src\\views\\Synth\\Modulators\\Envelope.vue"],"sourcesContent":["<template>\r\n  <div ref=\"container\" class=\"container hidden\" :style=\"this.container\">\r\n    <div class=\"border\" :style=\"this.border\">\r\n      <EnvelopeVisualizer ref=\"visualizer\" :is_volume=\"false\" @paramRefresh=\"handleRefresh\"/>\r\n      <Knobs ref=\"knobs\" type=\"envelope\" :id=\"this.id\" :parameters=\"this.parameters\"\r\n             @isDraggableUpdate=\"handleDraggableUpdate\"/>\r\n      <div> </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Knobs from \"./Knobs.vue\";\r\nimport EnvelopeVisualizer from \"./EnvelopeVisualizer.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    EnvelopeVisualizer, Knobs,\r\n  },\r\n  props: [\"id\"],\r\n  data() {\r\n    return {\r\n      parameters: {\r\n        attack: 0.01 * 2.5,\r\n        attackCurve: \"linear\",\r\n        decay: 0.1 * 2.5,\r\n        decayCurve: \"linear\",\r\n        releaseCurve: \"linear\",\r\n        release: 0.1 * 2.5,\r\n        sustain: 0.5,\r\n      },\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    //UPDATE PARAMS CHANGED IN ENVELOPE VISUALIZER\r\n    handleRefresh(parameters) {\r\n      this.parameters = parameters\r\n      this.$refs.knobs.updateParameters(this.parameters)\r\n    },\r\n    //-------------METHODS TO LINK WHEN DROPPING\r\n    link(object, target, color) {\r\n      //console.log(\"THINGS HAPPENING \"+section+\" \"+target)\r\n      this.$refs.knobs.addLink(object, target, color)\r\n\r\n    },\r\n    unLink(object, target) {\r\n      //console.log(\"THINGS HAPPENING \")\r\n      //console.log(object)\r\n      //console.log(target)\r\n      this.$refs.knobs.removeLink(object, target)\r\n    },\r\n    handleDraggableUpdate(isDraggable) {\r\n      this.$emit(\"isDraggableUpdate\", isDraggable)\r\n    },\r\n    //--------------METHODS TO SHOW/HIDE------------\r\n    unHide() {\r\n      this.$refs.container.classList.remove(\"hidden\");\r\n    },\r\n    hide() {\r\n      this.$refs.container.classList.add(\"hidden\");\r\n    },\r\n    //----------------------------------------------\r\n    handleMouseMove(e) {\r\n      this.$refs.visualizer.handleMouseMove(e);\r\n      this.$refs.knobs.handleMouseMove(e);\r\n    },\r\n    handleMouseUp(e) {\r\n      this.$refs.visualizer.handleMouseUp(e);\r\n      this.$refs.knobs.handleMouseUp(e);\r\n    }\r\n  },\r\n  computed: {\r\n    border(){\r\n      return{\r\n        background: '#ceeae7'\r\n      }\r\n    },\r\n    container(){\r\n      return{\r\n        background: this.colors.azure.medium\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.border {\r\n  grid-template-columns: calc(6 / 8 * 100%) calc(2 / 8 * 100%);\r\n  grid-template-rows: 100% ;\r\n\r\n  position: relative;\r\n  display: grid;\r\n  width: calc(100% - 0.6vw);\r\n  height: calc(100% - 0.6vw);\r\n  box-sizing: border-box;\r\n  margin: 0.3vw;\r\n  border-radius: 0.2vw;\r\n  border: 0.1vw solid #334030;\r\n}\r\n\r\n.container {\r\n  grid-column: span 2;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n.envelope {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: transparent;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.centering {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}